<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guatapé Tour VR Ultra Premium</title>
<link rel="stylesheet" href="style.css">
<script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
<script type="module" src="index.js" defer></script>
</head>
<body>

<div class="tour-container">

  <!-- Video principal 360° -->
  <div class="video-area">
    <a-scene embedded vr-mode-ui="enabled: true">
      <a-assets>
        <video id="video-main" autoplay loop muted crossorigin="anonymous"></video>
        <video id="video-lateral" muted loop crossorigin="anonymous"></video>
        <img id="camara-img" src="img/Camara.png">
        <img id="info-img" src="img/info.png">
      </a-assets>

      <!-- Esfera 360° -->
      <a-videosphere id="sphere" src="#video-main"></a-videosphere>

      <!-- Hotspots flotantes animados -->
      <a-entity id="hotspot-container"></a-entity>

      <!-- Tarjeta flotante de info -->
      <a-plane id="info-panel-vr" visible="false" width="1.3" height="0.7" color="#0a1e2b" opacity="0.95" position="0 1.6 -1.5" material="shader: flat">
        <a-text id="info-title-vr" value="Título" align="center" position="0 0.25 0" color="#ffcc00"></a-text>
        <a-text id="info-desc-vr" value="Descripción..." align="center" position="0 -0.05 0" width="1.2" color="#ffffff"></a-text>
      </a-plane>

      <!-- Video lateral fijo en la esquina inferior izquierda de la esfera -->
      <a-video id="video-lateral-vr" src="#video-lateral" width="0.6" height="0.35" position="-0.8 0.5 -1.2"></a-video>

      <!-- Botón salir VR -->
      <a-box id="exit-vr-btn" class="clickable" position="0 2 -1.2" depth="0.05" height="0.2" width="0.5" color="#ffcc00">
        <a-text value="Salir de VR" align="center" color="#000" position="0 0 0.03"></a-text>
      </a-box>

      <!-- Cámara VR con cursor interactivo -->
      <a-entity camera look-controls position="0 1.6 0">
        <a-cursor fuse="true" fuse-timeout="1000" raycaster="objects:.clickable"></a-cursor>
      </a-entity>
    </a-scene>

    <!-- Icono de cámara flotante para pantalla normal -->
    <img src="img/Camara.png" id="camara-icon" alt="Cámara">
  </div>

  <!-- Panel lateral normal -->
  <div class="side-panel">
    <div class="lateral-video-container">
      <video id="video-lateral-normal" controls muted></video>
    </div>
    <div id="hotspot-list"></div>
    <div id="info-panel" class="hidden">
      <h2 id="hotspot-title">Título</h2>
      <p id="hotspot-description">Descripción...</p>
      <button id="close-info">Cerrar</button>
    </div>
  </div>

  <!-- Overlay galería -->
  <div id="gallery-overlay" class="overlay hidden">
    <img id="gallery-image" src="images/imagen1.jpeg" alt="Imagen de cámara">
    <div class="gallery-buttons">
      <button id="prev-gallery">⬅️</button>
      <button id="next-gallery">➡️</button>
      <button id="close-gallery">Cerrar</button>
    </div>
  </div>

</div>

</body>
</html>
