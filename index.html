<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Medellin Adventure VR</title>

  <!-- ðŸ”— LibrerÃ­a A-Frame -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>

  <!-- ðŸ”— Swiper para el carrusel -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- ðŸŽ¨ Estilos -->
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background-color: #000;
    }
    /* ðŸ”¹ Logo superior */
    #logo { position: fixed; top: 15px; left: 15px; width: 140px; z-index: 1001; }
    /* ðŸ”¹ Controles de video lateral */
    .video-controls {
      position: fixed; bottom: 25px; left: 25px; z-index: 1001; display: flex; gap: 10px;
    }
    .video-controls img {
      width: 45px; height: 45px; cursor: pointer; border-radius: 10px; box-shadow: 0 0 10px rgba(255,255,255,0.3); transition: transform 0.2s;
    }
    .video-controls img:hover { transform: scale(1.1); }
    /* ðŸ”¹ Carrusel inmersivo */
    #gallery-overlay {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0,0,0,0.9);
      display: none; align-items: center; justify-content: center; z-index: 1002; flex-direction: column;
    }
    #gallery-overlay.visible { display: flex; }
    .swiper { width: 90%; height: 80%; }
    .swiper-slide { display: flex; flex-direction: column; align-items: center; justify-content: center; color: #fff; font-size: 1.2rem; }
    .swiper-slide img { max-height: 70vh; border-radius: 10px; margin-bottom: 10px; }
    #close-gallery { position: absolute; top: 20px; right: 30px; width: 50px; height: 50px; cursor: pointer; z-index: 1003; }
  </style>
</head>
<body>
  <!-- ðŸ”¹ Logo -->
  <img id="logo" src="img/logo.png" alt="The Medellin Adventure" />

  <!-- ðŸ”¹ Controles del video lateral -->
  <div class="video-controls">
    <img id="btn-play" src="img/play.jpg" alt="Play" />
    <img id="btn-pause" src="img/pause.png" alt="Pause" />
    <img id="btn-cerrar" src="img/cerrar.jpg" alt="Cerrar" />
  </div>

  <!-- ðŸ”¹ Carrusel inmersivo -->
  <div id="gallery-overlay">
    <img id="close-gallery" src="img/close.png" alt="Cerrar" />
    <div class="swiper">
      <div class="swiper-wrapper" id="gallery-wrapper">
        <div class="swiper-slide">
          <img src="images/imagen1.jpeg" alt="Imagen 1" />
          <p>DescripciÃ³n 1</p>
        </div>
        <div class="swiper-slide">
          <img src="images/imagen2.jpeg" alt="Imagen 2" />
          <p>DescripciÃ³n 2</p>
        </div>
      </div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>

  <!-- ðŸŒŽ Escena principal -->
  <a-scene
    id="mainScene"
    vr-mode-ui="enabled: true"
    loading-screen="enabled: false"
    renderer="antialias: true; colorManagement: true"
    embedded
  >
    <a-assets>
      <img id="info-img" src="img/info.png" />
      <img id="camara-icon" src="img/Camara.png" />
      <video id="video-main" autoplay loop="true" crossorigin="anonymous"></video>
      <video id="video-lateral" autoplay loop="true" crossorigin="anonymous"></video>
      <video id="video-lateral-normal" autoplay loop="true" crossorigin="anonymous"></video>
    </a-assets>

    <!-- ðŸ”† Esfera del video -->
    <a-videosphere src="#video-main" rotation="0 180 0"></a-videosphere>

    <!-- ðŸ”† Hotspots -->
    <a-entity id="hotspot-container"></a-entity>

    <!-- ðŸ”† Panel de informaciÃ³n -->
    <a-entity id="info-panel-vr" visible="false">
      <a-plane color="#111" opacity="0.85" width="2.6" height="1.6" position="0 1.6 -2"></a-plane>
      <a-text id="info-title-vr" value="" color="#fff" position="0 2 -1.9" align="center"></a-text>
      <a-text id="info-desc-vr" value="" color="#fff" wrap-count="45" position="0 1.2 -1.9" align="center"></a-text>
      <a-plane
        id="close-info-btn"
        src="img/close.png"
        width="0.3"
        height="0.3"
        position="1.1 2 -1.8"
        class="clickable"
      ></a-plane>
    </a-entity>

    <!-- ðŸ”† Icono menÃº flotante -->
    <a-plane
      id="menu-icon"
      src="img/next.jpg"
      width="0.5"
      height="0.5"
      position="-1 1.5 -2"
      look-at="[camera]"
      class="clickable"
    ></a-plane>

    <!-- ðŸ”† Contenedor del menÃº -->
    <a-entity id="scene-menu" visible="false" position="-1 1 -2"></a-entity>

    <!-- ðŸŽ¥ CÃ¡mara y cursor -->
    <a-entity camera look-controls position="0 1.6 0">
      <a-entity
        cursor="fuse: false; rayOrigin: mouse"
        raycaster="objects: .clickable"
        position="0 0 -1"
      ></a-entity>
    </a-entity>

    <!-- ðŸ”† Laser controls para VR -->
    <a-entity laser-controls="hand: left" raycaster="objects: .clickable"></a-entity>
    <a-entity laser-controls="hand: right" raycaster="objects: .clickable"></a-entity>

  </a-scene>

  <!-- JS principal -->
  <script type="module" src="index.js"></script>
</body>
</html>
