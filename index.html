<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guatapé Travel</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script type="module" src="index.js" defer></script>
</head>
<body>

<div class="tour-container">

  <!-- ESCENA VR -->
  <a-scene embedded vr-mode-ui="enabled: true">

    <a-assets>
      <video id="video-main" muted loop="true" crossorigin="anonymous"></video>
      <video id="video-lateral" muted loop="true" crossorigin="anonymous"></video>
      <img id="camara-img" src="img/Camara.png">
      <img id="info-img" src="img/info.png">
      <img id="play-img" src="img/play.png">
      <img id="pause-img" src="img/pause.png">
      <img id="cerrar-img" src="img/cerra.jpg">
      <img id="next-img" src="img/next.jpg">
      <img id="logo-img" src="img/logo.png">
    </a-assets>

    <!-- VIDEO PRINCIPAL 360 -->
    <a-videosphere id="sphere" src="#video-main" rotation="0 0 0"></a-videosphere>

    <!-- HOTSPOTS VR -->
    <a-entity id="hotspot-container"></a-entity>

    <!-- TARJETA DE INFORMACIÓN -->
    <a-plane id="info-panel-vr" visible="false" width="1.3" height="0.7" color="#0a1e2b" opacity="0.95" position="0 1.6 -1.5">
      <a-text id="info-title-vr" value="Título" align="center" position="0 0.25 0" color="#ffcc00"></a-text>
      <a-text id="info-desc-vr" value="Descripción..." align="center" position="0 -0.05 0" width="1.2" color="#ffffff"></a-text>
      <a-image id="info-close" src="#cerrar-img" width="0.15" height="0.15" position="0.55 0.28 0.01" class="clickable"></a-image>
    </a-plane>

    <!-- VIDEO LATERAL -->
    <a-video id="video-lateral-vr" src="#video-lateral" width="1.2" height="1.675" position="3 0 -3" class="clickable"></a-video>

    <!-- BOTONES VIDEO LATERAL -->
    <a-image id="btn-play" src="#play-img" position="2.5 1.5 -2.8" width="0.25" height="0.25" class="clickable"></a-image>
    <a-image id="btn-pause" src="#pause-img" position="2.8 1.5 -2.8" width="0.25" height="0.25" class="clickable"></a-image>
    <a-image id="btn-cerrar" src="#cerrar-img" position="3.1 1.5 -2.8" width="0.25" height="0.25" class="clickable"></a-image>

    <!-- MENÚ FLOTANTE ESCENAS -->
    <a-image id="menu-icon" src="#next-img" position="-1 2 -2" width="0.3" height="0.3" class="clickable"></a-image>
    <a-entity id="scene-menu" visible="false" position="-1 1.5 -2"></a-entity>

    <!-- LOGO / TARJETA INFORMACIÓN -->
    <a-plane width="1" height="0.4" color="#0a1e2b" opacity="0.8" position="-1 2.5 -2">
      <a-image src="#logo-img" width="0.3" height="0.3" position="-0.3 0 0.01"></a-image>
      <a-text value="Guatapé Travel" color="#ffcc00" align="left" position="0.1 0.1 0.01" width="1"></a-text>
      <a-text value="Proyecto desarrollado por The Medellín Adventure" color="#fff" align="left" position="0.1 -0.1 0.01" width="1"></a-text>
    </a-plane>

    <!-- ÍCONO CÁMARA DENTRO DE VR -->
    <a-image src="#camara-img" id="camara-icon-vr" position="0 1.4 -1.8" scale="0.4 0.4 0.4" class="clickable"></a-image>

    <!-- CÁMARA Y CONTROLES -->
    <a-entity camera look-controls wasd-controls position="1.5 0"></a-entity>
    <a-entity id="cursor" cursor="rayOrigin: mouse" raycaster="objects: .clickable"></a-entity>
    <a-entity laser-controls="hand: left" raycaster="objects:.clickable"></a-entity>
    <a-entity laser-controls="hand: right" raycaster="objects:.clickable"></a-entity>

    <!-- BOTÓN SALIR VR -->
    <a-box id="exit-vr-btn" class="clickable" position="0 2 -1.2" depth="0.05" height="0.2" width="1.5" color="#ffcc00">
      <a-text value="Salir VR" align="center" color="#000" position="0 0 0.03"></a-text>
    </a-box>
    
  </a-scene>

  <!-- PANEL NORMAL -->
  <div class="side-panel">
    <div class="lateral-video-container">
      <video id="video-lateral-normal" controls muted></video>
    </div>
    <div id="hotspot-list"></div>
    <div id="info-panel" class="hidden">
      <h2 id="hotspot-title">Título</h2>
      <p id="hotspot-description">Descripción...</p>
      <button id="close-info">Cerrar</button>
    </div>
  </div>

  <!-- GALERÍA -->
  <div id="gallery-overlay" class="overlay hidden">
    <img id="gallery-image" src="images/imagen1.jpeg" alt="Imagen de cámara">
    <div class="gallery-buttons">
      <button id="prev-gallery">⬅️</button>
      <button id="next-gallery">➡️</button>
      <button id="close-gallery">Cerrar</button>
    </div>
  </div>

  <!-- ICONO DE CÁMARA EN PANTALLA NORMAL -->
  <img src="img/Camara.png" id="camara-icon" alt="Cámara">
</div>

</body>
</html>
